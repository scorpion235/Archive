------------------------------------------------------------------------------------
-- Types                                                                
------------------------------------------------------------------------------------

CREATE TYPE P_KEY FROM INT NOT NULL;
CREATE TYPE F_KEY FROM INT NOT NULL;
CREATE TYPE INT_NN FROM INT NOT NULL;
CREATE TYPE S_2_NN FROM VARCHAR(2) NOT NULL;
CREATE TYPE S_50 FROM VARCHAR(50);
CREATE TYPE S_50_NN FROM VARCHAR(50) NOT NULL;
CREATE TYPE S_200_NN FROM VARCHAR(200) NOT NULL;
CREATE TYPE TIME_NN FROM TIME NOT NULL;

GO

------------------------------------------------------------------------------------
-- Tables                                                               
------------------------------------------------------------------------------------

--классы
CREATE TABLE CLASSES (
    ID      P_KEY,
    NUMBER  INT_NN,
    LETTER  S_2_NN
);

GO

--классные руководители
CREATE TABLE CURATORS (
    ID          P_KEY IDENTITY(1,1),
    TEACHER_ID  F_KEY,
    CLASS_ID    F_KEY
);

GO

--расписание уроков
CREATE TABLE LESSONS (
    LESSON_NO  P_KEY,
    TIMEB      TIME_NN,
    TIMEE      TIME_NN
);

GO

--расписание занятий
CREATE TABLE SCHEDULE (
    ID                  P_KEY,
    DAY_NO              INT_NN,
    CLASS_ID            F_KEY,
    LESSON_NO           F_KEY,
    TEACHER2SUBJECT_ID  F_KEY
);

GO

--школьники
CREATE TABLE STUDENTS (
    ID        P_KEY,
    FIO       S_200_NN,
    CLASS_ID  F_KEY
);

GO

--предметы
CREATE TABLE SUBJECTS (
    ID    P_KEY,
    NAME  S_200_NN
);

GO

--таблица связи преподаватель-предмет
CREATE TABLE TEACHER2SUBJECT (
    ID          P_KEY,
    TEACHER_ID  F_KEY,
    SUBJECT_ID  F_KEY
);

GO

--преподаватели
CREATE TABLE TEACHERS (
    ID     P_KEY,
    FIO    S_200_NN,
    AGE    INT_NN,
    PHONE  S_50
);

GO

------------------------------------------------------------------------------------
-- Triggers                                                               
------------------------------------------------------------------------------------

CREATE TRIGGER STUDENTS_AI 
ON STUDENTS
AFTER INSERT  
AS
BEGIN
  DECLARE @CLASS_ID INT,
          @STUDENT_COUNT INT
  
  SELECT @CLASS_ID = CLASS_ID 
    FROM INSERTED inserted
  
  SELECT @STUDENT_COUNT = ISNULL(COUNT(ID),0)
    FROM STUDENTS
   WHERE CLASS_ID = @CLASS_ID
 
  IF @STUDENT_COUNT > 30
  BEGIN
    ROLLBACK
    PRINT 'Количество школьников в классе не может превышать 30'; 
  END
END

GO

CREATE TRIGGER SCHEDULE_AI 
ON SCHEDULE
AFTER INSERT  
AS
BEGIN
  DECLARE @CLASS_ID INT,
          @DAY_NO INT,
          @LESSON_COUNT INT
  
  SELECT @DAY_NO = DAY_NO,
         @CLASS_ID = CLASS_ID 
    FROM INSERTED inserted
  
  SELECT @LESSON_COUNT = ISNULL(COUNT(DISTINCT TEACHER2SUBJECT_ID),0)
    FROM SCHEDULE
   WHERE DAY_NO = @DAY_NO
     AND CLASS_ID = @CLASS_ID
 
  IF @LESSON_COUNT > 6
  BEGIN
    ROLLBACK
    PRINT 'Количество различных уроков для класса не может превышать 6'; 
  END
END

GO

CREATE TRIGGER CURATORS_AI 
ON CURATORS
AFTER INSERT  
AS
BEGIN
  DECLARE @TEACHER_ID INT,
          @LESSON_COUNT INT
  
  SELECT @TEACHER_ID = TEACHER_ID
    FROM INSERTED inserted
  
  SELECT @LESSON_COUNT = ISNULL(COUNT(SH.ID),0)
    FROM SCHEDULE SH
   INNER JOIN TEACHER2SUBJECT TS
      ON TS.ID = SH.TEACHER2SUBJECT_ID
     AND TS.TEACHER_ID = @TEACHER_ID

  IF @LESSON_COUNT = 0
  BEGIN
    ROLLBACK
    PRINT 'Преподаватель не может быть классным руководителем, если он не преподает'; 
  END
END

GO

------------------------------------------------------------------------------------
-- Data Tables                                                               
------------------------------------------------------------------------------------

INSERT INTO CLASSES (ID, NUMBER, LETTER) VALUES (1, 7, 'А');
INSERT INTO CLASSES (ID, NUMBER, LETTER) VALUES (2, 7, 'Б');
INSERT INTO CLASSES (ID, NUMBER, LETTER) VALUES (3, 7, 'В');
INSERT INTO CLASSES (ID, NUMBER, LETTER) VALUES (4, 8, 'А');
INSERT INTO CLASSES (ID, NUMBER, LETTER) VALUES (5, 8, 'Б');
INSERT INTO CLASSES (ID, NUMBER, LETTER) VALUES (6, 8, 'В');
INSERT INTO CLASSES (ID, NUMBER, LETTER) VALUES (7, 9, 'Г');
INSERT INTO CLASSES (ID, NUMBER, LETTER) VALUES (8, 9, 'И');

GO

INSERT INTO TEACHERS (ID, FIO, AGE, PHONE) VALUES (1, 'Иванов И.И.', 35, '9015555555');
INSERT INTO TEACHERS (ID, FIO, AGE, PHONE) VALUES (2, 'Петров П.П.', 44, NULL);
INSERT INTO TEACHERS (ID, FIO, AGE, PHONE) VALUES (3, 'Сидоров С.С.', 28, NULL);
INSERT INTO TEACHERS (ID, FIO, AGE, PHONE) VALUES (4, 'Пнев Д.И.', 31, NULL);
INSERT INTO TEACHERS (ID, FIO, AGE, PHONE) VALUES (5, 'Федотов М.С.', 55, NULL);

GO

INSERT INTO LESSONS (LESSON_NO, TIMEB, TIMEE) VALUES (1, '08:30:00', '09:15:00');
INSERT INTO LESSONS (LESSON_NO, TIMEB, TIMEE) VALUES (2, '09:25:00', '10:10:00');
INSERT INTO LESSONS (LESSON_NO, TIMEB, TIMEE) VALUES (4, '11:30:00', '12:15:00');
INSERT INTO LESSONS (LESSON_NO, TIMEB, TIMEE) VALUES (3, '10:30:00', '11:15:00');
INSERT INTO LESSONS (LESSON_NO, TIMEB, TIMEE) VALUES (5, '12:30:00', '13:15:00');
INSERT INTO LESSONS (LESSON_NO, TIMEB, TIMEE) VALUES (6, '13:30:00', '14:15:00');
INSERT INTO LESSONS (LESSON_NO, TIMEB, TIMEE) VALUES (7, '14:30:00', '15:15:00');

GO

INSERT INTO SUBJECTS (ID, NAME) VALUES (1, 'Математика');
INSERT INTO SUBJECTS (ID, NAME) VALUES (2, 'Русский язык');
INSERT INTO SUBJECTS (ID, NAME) VALUES (3, 'Труд');
INSERT INTO SUBJECTS (ID, NAME) VALUES (4, 'Физическая культура');
INSERT INTO SUBJECTS (ID, NAME) VALUES (5, 'Биология');
INSERT INTO SUBJECTS (ID, NAME) VALUES (6, 'Химия');
INSERT INTO SUBJECTS (ID, NAME) VALUES (7, 'Физика');
INSERT INTO SUBJECTS (ID, NAME) VALUES (8, 'ОБЖ');
INSERT INTO SUBJECTS (ID, NAME) VALUES (9, 'История');
INSERT INTO SUBJECTS (ID, NAME) VALUES (10, 'Обществознание');

GO

INSERT INTO TEACHER2SUBJECT (ID, TEACHER_ID, SUBJECT_ID) VALUES (1, 1, 1);
INSERT INTO TEACHER2SUBJECT (ID, TEACHER_ID, SUBJECT_ID) VALUES (2, 2, 2);
INSERT INTO TEACHER2SUBJECT (ID, TEACHER_ID, SUBJECT_ID) VALUES (3, 3, 4);
INSERT INTO TEACHER2SUBJECT (ID, TEACHER_ID, SUBJECT_ID) VALUES (4, 4, 3);
INSERT INTO TEACHER2SUBJECT (ID, TEACHER_ID, SUBJECT_ID) VALUES (5, 5, 3);
INSERT INTO TEACHER2SUBJECT (ID, TEACHER_ID, SUBJECT_ID) VALUES (6, 5, 7);

GO

INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (1, 1, 1, 1, 1);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (2, 1, 1, 2, 2);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (3, 1, 1, 3, 5);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (4, 1, 1, 4, 4);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (5, 1, 1, 5, 6);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (6, 1, 1, 6, 3);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (7, 2, 1, 1, 1);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (8, 2, 1, 2, 2);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (9, 2, 1, 3, 5);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (10, 2, 1, 4, 4);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (11, 2, 1, 5, 6);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (12, 2, 1, 6, 3);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (13, 3, 1, 1, 1);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (14, 3, 1, 2, 2);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (15, 3, 1, 3, 5);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (16, 3, 1, 4, 4);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (17, 4, 1, 1, 1);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (18, 4, 1, 2, 2);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (19, 4, 1, 3, 5);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (20, 4, 1, 4, 4);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (21, 4, 1, 5, 6);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (22, 4, 1, 6, 3);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (23, 5, 1, 1, 2);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (24, 5, 1, 2, 2);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (25, 5, 1, 3, 5);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (26, 5, 1, 4, 4);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (27, 5, 1, 5, 1);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (28, 5, 1, 1, 1);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (31, 5, 1, 4, 1);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (32, 5, 1, 5, 6);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (33, 5, 1, 6, 3);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (34, 6, 1, 1, 1);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (35, 6, 1, 2, 2);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (36, 6, 1, 3, 5);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (37, 6, 1, 4, 4);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (38, 6, 1, 5, 6);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (39, 6, 1, 6, 3);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (40, 6, 1, 6, 4);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (41, 1, 2, 1, 2);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (42, 1, 2, 2, 2);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (43, 1, 2, 3, 5);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (44, 1, 2, 4, 4);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (45, 1, 2, 5, 6);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (46, 1, 2, 6, 3);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (47, 2, 2, 1, 2);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (48, 2, 2, 2, 2);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (49, 2, 2, 3, 5);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (50, 2, 2, 4, 4);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (51, 2, 2, 5, 6);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (52, 2, 2, 6, 3);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (53, 3, 2, 1, 2);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (54, 3, 2, 2, 2);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (55, 3, 2, 3, 5);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (56, 3, 2, 4, 4);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (57, 4, 2, 1, 2);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (58, 4, 2, 2, 2);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (59, 4, 2, 3, 5);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (60, 4, 2, 4, 4);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (61, 4, 2, 5, 6);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (62, 4, 2, 6, 3);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (63, 5, 2, 1, 2);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (64, 5, 2, 2, 2);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (65, 5, 2, 3, 3);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (66, 5, 2, 4, 4);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (67, 5, 2, 5, 6);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (68, 5, 2, 1, 3);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (69, 5, 2, 2, 6);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (70, 5, 2, 3, 5);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (71, 5, 2, 4, 6);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (72, 5, 2, 5, 1);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (73, 5, 2, 6, 3);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (74, 6, 2, 1, 2);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (75, 6, 2, 2, 2);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (76, 6, 2, 3, 5);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (77, 6, 2, 4, 4);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (78, 6, 2, 5, 6);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (79, 6, 2, 6, 2);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (80, 6, 2, 6, 3);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (81, 1, 3, 1, 2);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (82, 1, 3, 2, 2);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (83, 1, 3, 3, 5);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (84, 1, 3, 4, 4);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (85, 2, 3, 1, 2);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (86, 2, 3, 2, 2);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (87, 2, 3, 3, 5);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (88, 2, 3, 4, 4);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (89, 2, 3, 5, 6);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (90, 2, 3, 6, 3);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (91, 3, 3, 1, 2);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (92, 4, 3, 1, 2);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (93, 4, 3, 2, 2);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (94, 4, 3, 3, 5);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (95, 4, 3, 4, 4);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (96, 4, 3, 5, 6);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (97, 4, 3, 6, 3);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (98, 5, 3, 1, 2);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (99, 5, 3, 2, 2);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (100, 5, 3, 3, 5);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (101, 5, 3, 4, 1);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (102, 5, 3, 5, 6);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (103, 5, 3, 1, 1);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (104, 5, 3, 2, 5);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (105, 5, 3, 3, 2);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (106, 5, 3, 4, 4);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (107, 5, 3, 5, 4);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (108, 5, 3, 6, 3);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (109, 6, 3, 1, 1);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (110, 6, 3, 2, 2);
INSERT INTO SCHEDULE (ID, DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID) VALUES (111, 6, 3, 3, 1);

GO

INSERT INTO STUDENTS (ID, FIO, CLASS_ID) VALUES (1, 'Лыков С.М.', 1);
INSERT INTO STUDENTS (ID, FIO, CLASS_ID) VALUES (2, 'Быстров М.А.', 1);
INSERT INTO STUDENTS (ID, FIO, CLASS_ID) VALUES (3, 'Старкова Т.В.', 1);
INSERT INTO STUDENTS (ID, FIO, CLASS_ID) VALUES (4, 'Богомолов И.С.', 1);
INSERT INTO STUDENTS (ID, FIO, CLASS_ID) VALUES (5, 'Веселов И.Ш', 2);
INSERT INTO STUDENTS (ID, FIO, CLASS_ID) VALUES (6, 'Кузнецова З.Г.', 2);
INSERT INTO STUDENTS (ID, FIO, CLASS_ID) VALUES (7, 'Фетисов К.Ф.', 2);
INSERT INTO STUDENTS (ID, FIO, CLASS_ID) VALUES (8, 'Антошин С.Б.', 2);
INSERT INTO STUDENTS (ID, FIO, CLASS_ID) VALUES (9, 'Иконников М.М.', 2);
INSERT INTO STUDENTS (ID, FIO, CLASS_ID) VALUES (10, 'Смирнова Е.И.', 2);
INSERT INTO STUDENTS (ID, FIO, CLASS_ID) VALUES (11, 'Криничная Н.З.', 2);
INSERT INTO STUDENTS (ID, FIO, CLASS_ID) VALUES (12, 'Цыганков С.А.', 2);
INSERT INTO STUDENTS (ID, FIO, CLASS_ID) VALUES (13, 'Старкова И.И.', 2);
INSERT INTO STUDENTS (ID, FIO, CLASS_ID) VALUES (14, 'Тимонина У.Ф.', 2);
INSERT INTO STUDENTS (ID, FIO, CLASS_ID) VALUES (15, 'Спиридонов И.Б', 3);
INSERT INTO STUDENTS (ID, FIO, CLASS_ID) VALUES (16, 'Молдовано А.В.', 3);

GO

INSERT INTO CURATORS (TEACHER_ID, CLASS_ID) VALUES (1, 1);
INSERT INTO CURATORS (TEACHER_ID, CLASS_ID) VALUES (2, 2);
INSERT INTO CURATORS (TEACHER_ID, CLASS_ID) VALUES (5, 3);

GO

------------------------------------------------------------------------------------
-- Unique Constraints                                                               
------------------------------------------------------------------------------------

ALTER TABLE CLASSES ADD CONSTRAINT UNQ1_CLASSES UNIQUE (NUMBER, LETTER);
ALTER TABLE CURATORS ADD CONSTRAINT UNQ1_CURATORS UNIQUE (TEACHER_ID, CLASS_ID);
ALTER TABLE SCHEDULE ADD CONSTRAINT UNQ1_SCHEDULE UNIQUE (DAY_NO, CLASS_ID, LESSON_NO, TEACHER2SUBJECT_ID);
ALTER TABLE SUBJECTS ADD CONSTRAINT UNQ1_SUBJECTS UNIQUE (NAME);
ALTER TABLE TEACHER2SUBJECT ADD CONSTRAINT UNQ1_TEACHER2SUBJECT UNIQUE (TEACHER_ID, SUBJECT_ID);

GO

------------------------------------------------------------------------------------
-- Primary Keys                                                               
------------------------------------------------------------------------------------

ALTER TABLE CLASSES ADD CONSTRAINT PK_CLASSES PRIMARY KEY (ID);
ALTER TABLE CURATORS ADD CONSTRAINT PK_CURATORS PRIMARY KEY (ID);
ALTER TABLE LESSONS ADD CONSTRAINT PK_LESSONS PRIMARY KEY (LESSON_NO);
ALTER TABLE SCHEDULE ADD CONSTRAINT PK_SCHEDULE PRIMARY KEY (ID);
ALTER TABLE STUDENTS ADD CONSTRAINT PK_STUDENTS PRIMARY KEY (ID);
ALTER TABLE SUBJECTS ADD CONSTRAINT PK_SUBJECTS PRIMARY KEY (ID);
ALTER TABLE TEACHER2SUBJECT ADD CONSTRAINT PK_TEACHER2SUBJECT PRIMARY KEY (ID);
ALTER TABLE TEACHERS ADD CONSTRAINT PK_TEACHERS PRIMARY KEY (ID);

GO

------------------------------------------------------------------------------------
-- Foreign Keys                                                               
------------------------------------------------------------------------------------

ALTER TABLE CURATORS ADD CONSTRAINT FK_CURATORS_CLASS_ID FOREIGN KEY (CLASS_ID) REFERENCES CLASSES (ID);
ALTER TABLE CURATORS ADD CONSTRAINT FK_CURATORS_TEACHER_ID FOREIGN KEY (TEACHER_ID) REFERENCES TEACHERS (ID);
ALTER TABLE SCHEDULE ADD CONSTRAINT FK_SCHEDULE_CLASS_ID FOREIGN KEY (CLASS_ID) REFERENCES CLASSES (ID);
ALTER TABLE SCHEDULE ADD CONSTRAINT FK_SCHEDULE_LESSON_NO FOREIGN KEY (LESSON_NO) REFERENCES LESSONS (LESSON_NO);
ALTER TABLE SCHEDULE ADD CONSTRAINT FK_SCHEDULE_TEACHER2SUBJECT_ID FOREIGN KEY (TEACHER2SUBJECT_ID) REFERENCES TEACHER2SUBJECT (ID);
ALTER TABLE STUDENTS ADD CONSTRAINT FK_STUDENTS_CLASS_ID FOREIGN KEY (CLASS_ID) REFERENCES CLASSES (ID);
ALTER TABLE TEACHER2SUBJECT ADD CONSTRAINT FK_TEACHER2SUBJECT_SUBJECT_ID FOREIGN KEY (SUBJECT_ID) REFERENCES SUBJECTS (ID);
ALTER TABLE TEACHER2SUBJECT ADD CONSTRAINT FK_TEACHER2SUBJECT_TEACHER_ID FOREIGN KEY (TEACHER_ID) REFERENCES TEACHERS (ID);

GO